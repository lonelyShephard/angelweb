{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Historical Data</h1>
    {% if message %}
        <h2>Results:</h2>
        <pre>{{ message }}</pre>
    {% endif %}
    <form method="POST" id="historicalDataForm">
        <label for="symbol">Stock Symbol:</label>
        <input type="text" id="symbol" name="symbol" required list="symbol-list">
        <datalist id="symbol-list"></datalist>

        <label for="token">Stock Token:</label>
        <input type="text" id="token" name="token" readonly>

        <label for="exchange">Exchange:</label>
        <input type="text" id="exchange" name="exchange" readonly>

        <label for="interval">Interval:</label>
        <select id="interval" name="interval">
            <option value="ONE_MINUTE">1 Minute</option>
            <option value="FIVE_MINUTE">5 Minutes</option>
            <option value="ONE_DAY" selected>1 Day</option>
        </select>

        <label for="from_date">From Date:</label>
        <input type="date" id="from_date" name="from_date" required>

        <label for="from_time">From Time (HH:MM):</label>
        <input type="number" id="from_hour" name="from_hour" min="0" max="23" value="00" required>
        <input type="number" id="from_minute" name="from_minute" min="0" max="59" value="00" required>

        <label for="to_date">To Date:</label>
        <input type="date" id="to_date" name="to_date" required>

        <label for="to_time">To Time (HH:MM):</label>
        <input type="number" id="to_hour" name="to_hour" min="0" max="23" value="23" required>
        <input type="number" id="to_minute" name="to_minute" min="0" max="59" value="59" required>

        <button type="submit">Fetch Data</button>
    </form>
</div>

<script src="{{ url_for('static', filename='historical.js') }}"></script>
{% endblock %}
